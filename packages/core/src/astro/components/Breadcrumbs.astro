---
import clsx from 'clsx';
import type { Breadcrumb } from '../../types/breadcrumb';

const SEPARATOR = '/' as const;
const BREADCRUMB_CLASS = 'text-brand-yellow font-bold tracking-wide' as const;

interface Props {
  breadcrumbs: Breadcrumb[];
}

const { breadcrumbs } = Astro.props;
---

{
  breadcrumbs.length > 0 && (
    <div class="bg-brand-dark">
      <div class="container mx-auto px-6 py-4">
        <nav class="anton text-sm">
          <ol class="breadcrumbs flex items-center space-x-2">
            {breadcrumbs.map((crumb, idx) => (
              <>
                <li>
                  {crumb.href ? (
                    <a
                      href={crumb.href}
                      aria-label={crumb.label}
                      title={crumb.label}
                      class={clsx(
                        'hover:text-brand-yellow/80 link-underline transition-colors',
                        BREADCRUMB_CLASS
                      )}
                    >
                      {crumb.label}
                    </a>
                  ) : (
                    <span class={BREADCRUMB_CLASS}>{crumb.label}</span>
                  )}
                </li>
                {idx < breadcrumbs.length - 1 && (
                  <li class="text-brand-red font-black"> {SEPARATOR} </li>
                )}
              </>
            ))}
          </ol>
        </nav>
      </div>
    </div>
  )
}
