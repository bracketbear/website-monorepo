---
import clsx from 'clsx';
import type { Breadcrumb } from '../../types/breadcrumb';

const SEPARATOR = '/' as const;
const BREADCRUMB_CLASS =
  'text-text-primary/70 font-medium tracking-wide hover:text-text-primary transition-colors' as const;

interface Props {
  breadcrumbs: Breadcrumb[];
  hideNavigation?: boolean;
  variant?: 'default' | 'ghost-dark' | 'ghost-light' | 'glass';
}

const { breadcrumbs, variant } = Astro.props;
---

{
  breadcrumbs.length > 0 && (
    <div class="bg-brand-dark/5">
      <div
        class={`py-2 ${variant === 'glass' ? 'glass-bg glass-shadow border-transparent' : 'border-border/20 border-b'}`}
      >
        <div class="container-content">
          <nav class="text-sm">
            <ol class="breadcrumbs flex list-none items-center space-x-2">
              {breadcrumbs.map((crumb, idx) => (
                <>
                  <li class="list-none">
                    {crumb.href ? (
                      <a
                        href={crumb.href}
                        aria-label={crumb.label}
                        title={crumb.label}
                        class={clsx(
                          'hover:text-text-primary transition-colors',
                          BREADCRUMB_CLASS
                        )}
                      >
                        {crumb.label}
                      </a>
                    ) : (
                      <span class={BREADCRUMB_CLASS}>{crumb.label}</span>
                    )}
                  </li>
                  {idx < breadcrumbs.length - 1 && (
                    <li class="text-text-primary/40 list-none font-medium">
                      {' '}
                      {SEPARATOR}{' '}
                    </li>
                  )}
                </>
              ))}
            </ol>
          </nav>
        </div>
      </div>
    </div>
  )
}
