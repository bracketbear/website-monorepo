@utility font-heading {
  --heading-font-family: 'Oswald', 'sans-serif';
  font-family: var(--heading-font-family);
}

@utility heading {
  @apply font-heading font-bold tracking-tighter;
}

/* A useful utility for limiting the width of prose text. */
@utility max-w-prose {
  max-width: 65ch;

  @variant xl {
    max-width: 75ch;
  }
}

@utility typography {
  & h1 {
    @apply text-4xl font-bold tracking-tight sm:text-5xl lg:text-6xl;
  }

  & h2 {
    @apply text-3xl font-bold tracking-tight sm:text-4xl lg:text-5xl;
  }

  & h3 {
    @apply text-2xl font-bold tracking-tight sm:text-3xl lg:text-4xl;
  }

  & h4 {
    @apply text-xl font-bold tracking-tight sm:text-2xl lg:text-3xl;
  }

  & p {
    @apply text-lg leading-relaxed font-medium;
  }
}

/* Prose utility - replicates Tailwind's typography plugin */
@layer components {
  .prose {
    color: var(--color-brand-dark);
    max-width: 65ch;
  }

  .prose h1 {
    color: inherit;
    font-weight: 800;
    font-size: 2.25em;
    margin-top: 0;
    margin-bottom: 0.8888889em;
    line-height: 1.1111111;
  }

  .prose h2 {
    color: inherit;
    font-weight: 700;
    font-size: 1.5em;
    margin-top: 2em;
    margin-bottom: 1em;
    line-height: 1.3333333;
  }

  .prose h3 {
    color: inherit;
    font-weight: 600;
    font-size: 1.25em;
    margin-top: 1.6em;
    margin-bottom: 0.6em;
    line-height: 1.6;
  }

  .prose h4 {
    color: inherit;
    font-weight: 600;
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    line-height: 1.5;
  }

  .prose p {
    margin-top: 1.25em;
    margin-bottom: 1.25em;
    line-height: 1.75;
  }

  .prose ul,
  .prose ol {
    margin-top: 1.25em;
    margin-bottom: 1.25em;
    padding-left: 1.625em;
  }

  .prose li {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }

  .prose ul > li {
    position: relative;
    padding-left: 1.375em;
  }

  .prose ul > li::before {
    content: '';
    width: 0.375em;
    height: 0.375em;
    position: absolute;
    top: 0.6875em;
    left: 0.25em;
    border-radius: 50%;
    background-color: currentColor;
  }

  .prose ol > li {
    position: relative;
    padding-left: 1.375em;
  }

  .prose ol > li::before {
    content: counter(list-item, decimal) '.';
    width: 1.625em;
    position: absolute;
    top: 0;
    left: 0;
    font-weight: 400;
    color: currentColor;
  }

  .prose blockquote {
    font-weight: 500;
    font-style: italic;
    color: inherit;
    border-left-width: 0.25rem;
    border-left-color: currentColor;
    quotes: '\201C' '\201D' '\2018' '\2019';
    margin-top: 1.6em;
    margin-bottom: 1.6em;
    padding-left: 1em;
  }

  .prose blockquote p:first-of-type::before {
    content: open-quote;
  }

  .prose blockquote p:last-of-type::after {
    content: close-quote;
  }

  .prose code {
    color: inherit;
    font-weight: 600;
    font-size: 0.875em;
  }

  .prose code::before {
    content: '`';
  }

  .prose code::after {
    content: '`';
  }

  .prose pre {
    color: inherit;
    background-color: transparent;
    border: 1px solid currentColor;
    border-radius: 0.375rem;
    font-size: 0.875em;
    font-weight: 400;
    line-height: 1.7142857;
    margin: 1.7142857em 0;
    overflow-x: auto;
    padding: 0.8571429em 1.1428571em;
  }

  .prose pre code {
    background-color: transparent;
    border-width: 0;
    border-radius: 0;
    color: inherit;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    padding: 0;
  }

  .prose pre code::before {
    content: none;
  }

  .prose pre code::after {
    content: none;
  }

  .prose table {
    width: 100%;
    table-layout: auto;
    text-align: left;
    margin-top: 2em;
    margin-bottom: 2em;
    font-size: 0.875em;
    line-height: 1.7142857;
  }

  .prose thead {
    color: inherit;
    font-weight: 600;
    border-bottom: 1px solid currentColor;
  }

  .prose thead th {
    vertical-align: bottom;
    padding-right: 0.5714286em;
    padding-bottom: 0.5714286em;
    padding-left: 0.5714286em;
  }

  .prose tbody tr {
    border-bottom: 1px solid currentColor;
  }

  .prose tbody tr:last-child {
    border-bottom-width: 0;
  }

  .prose tbody td {
    vertical-align: baseline;
    padding: 0.5714286em;
  }

  .prose a {
    color: inherit;
    text-decoration: underline;
    font-weight: 500;
  }

  .prose a:hover {
    color: inherit;
  }

  .prose img {
    margin-top: 2em;
    margin-bottom: 2em;
  }

  .prose hr {
    border-color: currentColor;
    border-top-width: 1px;
    margin-top: 3em;
    margin-bottom: 3em;
  }

  .prose strong {
    color: inherit;
    font-weight: 600;
  }

  .prose em {
    color: inherit;
    font-style: italic;
  }

  .prose small {
    color: inherit;
    font-size: 0.875em;
  }

  .prose del {
    color: inherit;
  }

  .prose abbr {
    color: inherit;
    text-decoration: underline;
    text-decoration-style: dotted;
  }

  .prose mark {
    background-color: currentColor;
    color: inherit;
  }

  /* Prose size variants */
  .prose-sm {
    font-size: 0.875rem;
    line-height: 1.7142857;
  }

  .prose-sm p {
    margin-top: 1.1428571em;
    margin-bottom: 1.1428571em;
  }

  .prose-sm h1,
  .prose-sm h2,
  .prose-sm h3,
  .prose-sm h4 {
    margin-top: 1.1428571em;
    margin-bottom: 0.5714286em;
  }

  .prose-sm ul,
  .prose-sm ol {
    margin-top: 1.1428571em;
    margin-bottom: 1.1428571em;
  }

  .prose-sm li {
    margin-top: 0.2857143em;
    margin-bottom: 0.2857143em;
  }

  .prose-sm blockquote {
    margin-top: 1.3333333em;
    margin-bottom: 1.3333333em;
    padding-left: 1.1111111em;
  }

  .prose-sm h1 {
    font-size: 1.4285714em;
  }

  .prose-sm h2 {
    font-size: 1.2857143em;
  }

  .prose-sm h3 {
    font-size: 1.1428571em;
  }

  .prose-sm h4 {
    font-size: 1em;
  }

  .prose-sm ul,
  .prose-sm ol {
    padding-left: 1.5714286em;
  }

  .prose-sm pre {
    margin-top: 1.1428571em;
    margin-bottom: 1.1428571em;
    padding: 0.75em 1em;
  }

  .prose-sm table {
    margin-top: 1.1428571em;
    margin-bottom: 1.1428571em;
  }

  .prose-sm img {
    margin-top: 1.1428571em;
    margin-bottom: 1.1428571em;
  }

  .prose-sm hr {
    margin-top: 2.2857143em;
    margin-bottom: 2.2857143em;
  }

  .prose-lg {
    font-size: 1.125rem;
    line-height: 1.7777778;
  }

  .prose-lg p {
    margin-top: 1.3333333em;
    margin-bottom: 1.3333333em;
  }

  .prose-lg h1,
  .prose-lg h2,
  .prose-lg h3,
  .prose-lg h4 {
    margin-top: 1.3333333em;
    margin-bottom: 0.6666667em;
  }

  .prose-lg ul,
  .prose-lg ol {
    margin-top: 1.3333333em;
    margin-bottom: 1.3333333em;
  }

  .prose-lg li {
    margin-top: 0.3333333em;
    margin-bottom: 0.3333333em;
  }

  .prose-lg blockquote {
    margin-top: 1.6666667em;
    margin-bottom: 1.6666667em;
    padding-left: 1em;
  }

  .prose-lg h1 {
    font-size: 2.6666667em;
  }

  .prose-lg h2 {
    font-size: 1.6666667em;
  }

  .prose-lg h3 {
    font-size: 1.3333333em;
  }

  .prose-lg h4 {
    font-size: 1.1111111em;
  }

  .prose-lg ul,
  .prose-lg ol {
    padding-left: 1.5555556em;
  }

  .prose-lg pre {
    margin-top: 1.3333333em;
    margin-bottom: 1.3333333em;
    padding: 0.8888889em 1.1111111em;
  }

  .prose-lg table {
    margin-top: 1.3333333em;
    margin-bottom: 1.3333333em;
  }

  .prose-lg img {
    margin-top: 1.3333333em;
    margin-bottom: 1.3333333em;
  }

  .prose-lg hr {
    margin-top: 2.6666667em;
    margin-bottom: 2.6666667em;
  }

  .prose-xl {
    font-size: 1.25rem;
    line-height: 1.75;
  }

  .prose-xl p {
    margin-top: 1.375em;
    margin-bottom: 1.375em;
  }

  .prose-xl h1,
  .prose-xl h2,
  .prose-xl h3,
  .prose-xl h4 {
    margin-top: 1.375em;
    margin-bottom: 0.6875em;
  }

  .prose-xl ul,
  .prose-xl ol {
    margin-top: 1.375em;
    margin-bottom: 1.375em;
  }

  .prose-xl li {
    margin-top: 0.34375em;
    margin-bottom: 0.34375em;
  }

  .prose-xl blockquote {
    margin-top: 1.75em;
    margin-bottom: 1.75em;
    padding-left: 1em;
  }

  .prose-xl h1 {
    font-size: 3em;
  }

  .prose-xl h2 {
    font-size: 1.875em;
  }

  .prose-xl h3 {
    font-size: 1.5em;
  }

  .prose-xl h4 {
    font-size: 1.25em;
  }

  .prose-xl ul,
  .prose-xl ol {
    padding-left: 1.5em;
  }

  .prose-xl pre {
    margin-top: 1.375em;
    margin-bottom: 1.375em;
    padding: 0.75em 1em;
  }

  .prose-xl table {
    margin-top: 1.375em;
    margin-bottom: 1.375em;
  }

  .prose-xl img {
    margin-top: 1.375em;
    margin-bottom: 1.375em;
  }

  .prose-xl hr {
    margin-top: 2.75em;
    margin-bottom: 2.75em;
  }

  .prose-2xl {
    font-size: 1.5rem;
    line-height: 1.6666667;
  }

  .prose-2xl p {
    margin-top: 1.4166667em;
    margin-bottom: 1.4166667em;
  }

  .prose-2xl h1,
  .prose-2xl h2,
  .prose-2xl h3,
  .prose-2xl h4 {
    margin-top: 1.4166667em;
    margin-bottom: 0.7083333em;
  }

  .prose-2xl ul,
  .prose-2xl ol {
    margin-top: 1.4166667em;
    margin-bottom: 1.4166667em;
  }

  .prose-2xl li {
    margin-top: 0.3541667em;
    margin-bottom: 0.3541667em;
  }

  .prose-2xl blockquote {
    margin-top: 1.8333333em;
    margin-bottom: 1.8333333em;
    padding-left: 1em;
  }

  .prose-2xl h1 {
    font-size: 3.3333333em;
  }

  .prose-2xl h2 {
    font-size: 2.0833333em;
  }

  .prose-2xl h3 {
    font-size: 1.6666667em;
  }

  .prose-2xl h4 {
    font-size: 1.3333333em;
  }

  .prose-2xl ul,
  .prose-2xl ol {
    padding-left: 1.4583333em;
  }

  .prose-2xl pre {
    margin-top: 1.4166667em;
    margin-bottom: 1.4166667em;
    padding: 0.6666667em 0.8333333em;
  }

  .prose-2xl table {
    margin-top: 1.4166667em;
    margin-bottom: 1.4166667em;
  }

  .prose-2xl img {
    margin-top: 1.4166667em;
    margin-bottom: 1.4166667em;
  }

  .prose-2xl hr {
    margin-top: 2.8333333em;
    margin-bottom: 2.8333333em;
  }

  /* Prose color modifiers */
  .prose-headings\:text-white h1,
  .prose-headings\:text-white h2,
  .prose-headings\:text-white h3,
  .prose-headings\:text-white h4 {
    color: white;
  }

  .prose-p\:text-white\/90 p {
    color: color-mix(in srgb, white 90%, transparent);
  }

  .prose-p\:text-white\/80 p {
    color: color-mix(in srgb, white 80%, transparent);
  }

  .prose-headings\:text-brand-dark h1,
  .prose-headings\:text-brand-dark h2,
  .prose-headings\:text-brand-dark h3,
  .prose-headings\:text-brand-dark h4 {
    color: var(--color-brand-dark);
  }

  .prose-p\:text-brand-dark\/90 p {
    color: color-mix(in srgb, var(--color-brand-dark) 90%, transparent);
  }

  .prose-p\:text-brand-dark\/80 p {
    color: color-mix(in srgb, var(--color-brand-dark) 80%, transparent);
  }
}
