/* Tailwind is our base framework. */
@import 'tailwindcss';

/* Fonts */
@import '@fontsource/oswald/700.css';
@import '@fontsource/fira-sans/400.css';
@import '@fontsource/fira-sans/500.css';
@import '@fontsource/fira-sans/700.css';

/* Default theme variables. Source of truth for theming easily. */
@import './theme.css';

/* Utility classes for the core components. */
@import './border.css';
@import './box-shadow.css';
@import './buttons.css';
@import './cards.css';
@import './forms.css';
@import './pills.css';
@import './section.css';
@import './tangible.css';
@import './typography.css';

/* Halftone pattern text with double shadow for headings */
@utility halftone-text-shadow {
  --halftone-foreground-color: var(--color-brand-dark);
  /* Making the middle color transparent so you can add a color to the middle if you want. See halftone-text-shadow-middle-* below. */
  --halftone-middle-color: rgb(0, 0, 0, 0);
  --halftone-background-size: 0.067em;
  --halftone-layer-spacing: -0.0625em;
  
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 8 8' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='4' cy='4' r='2' fill='%23000000' fill-opacity='0.7'/%3E%3C/svg%3E");
  background-size: var(--halftone-background-size) var(--halftone-background-size);
  background-repeat: repeat;
  color: transparent;
  -webkit-background-clip: text;
  background-clip: text;
  margin: calc(var(--halftone-layer-spacing) * -2) 0 0 calc(var(--halftone-layer-spacing) * -2);
  text-shadow:
    calc(var(--halftone-layer-spacing) * 2) calc(var(--halftone-layer-spacing) * 2) 0 var(--halftone-foreground-color),
    var(--halftone-layer-spacing) var(--halftone-layer-spacing) 0 var(--halftone-middle-color)
  ;
}

/* A utility to set the middle color of the halftone text shadow. */
@utility halftone-text-shadow-middle-* {
  --halftone-middle-color: --value(--color-*);
}

/* A utility to set the foreground color of the halftone text shadow. */
@utility halftone-text-shadow-foreground-* {
  --halftone-foreground-color: --value(--color-*);
}

/* TODO: We need this? */
@utility comic-book-shadow {
  box-shadow: 4px 4px 0 0 var(--color-shadow);
}

@layer components {
  /* Brutalist Utility Classes */

  /* Halftone Background Classes */
  .halftone-bg {
    background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='2' fill='black' opacity='0.15'/%3E%3Ccircle cx='0' cy='0' r='2' fill='black' opacity='0.15'/%3E%3Ccircle cx='0' cy='24' r='2' fill='black' opacity='0.15'/%3E%3Ccircle cx='24' cy='0' r='2' fill='black' opacity='0.15'/%3E%3Ccircle cx='24' cy='24' r='2' fill='black' opacity='0.15'/%3E%3C/svg%3E");
  }

  .halftone-bg-dark {
    background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='2' fill='white' opacity='0.15'/%3E%3Ccircle cx='0' cy='0' r='2' fill='white' opacity='0.15'/%3E%3Ccircle cx='0' cy='24' r='2' fill='white' opacity='0.15'/%3E%3Ccircle cx='24' cy='0' r='2' fill='white' opacity='0.15'/%3E%3Ccircle cx='24' cy='24' r='2' fill='white' opacity='0.15'/%3E%3C/svg%3E");
  }

  /* Comic Book Panel Styles */
  .comic-panel {
    @apply comic-book-shadow bg-background border-2 border-foreground p-6;
    position: relative;
  }

  .comic-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='2' fill='black' opacity='0.05'/%3E%3Ccircle cx='0' cy='0' r='2' fill='black' opacity='0.05'/%3E%3Ccircle cx='0' cy='24' r='2' fill='black' opacity='0.05'/%3E%3Ccircle cx='24' cy='0' r='2' fill='black' opacity='0.05'/%3E%3Ccircle cx='24' cy='24' r='2' fill='black' opacity='0.05'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: -1;
  }
  
  .link-underline {
    position: relative;
  }
  
  .link-underline::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -0.25em;
    width: 0;
    height: 0.2em;
    background-color: currentColor;
    transition: width 0.3s cubic-bezier(0.4,0,0.2,1);
    z-index: 1;
  }
  
  .link-underline:hover::after,
  .link-underline:focus-visible::after {
    width: 100%;
  }
}
