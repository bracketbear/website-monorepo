/* Tailwind is our base framework. */
@import 'tailwindcss';

/* Fonts */
@import '@fontsource/barlow-condensed/700.css';
@import '@fontsource/fira-sans/400.css';
@import '@fontsource/fira-sans/500.css';
@import '@fontsource/fira-sans/700.css';

/* Default theme variables. Source of truth for theming easily. */
@import './theme.css';

/* Utility classes for the core components. */
@import './animations.css';
@import './border.css';
@import './box-shadow.css';
@import './buttons.css';
@import './cards.css';
@import './forms.css';
@import './glass.css';
@import './pills.css';
@import './section.css';
@import './tangible.css';
@import './typography.css';

/* Halftone pattern text with double shadow for headings */
@utility halftone-text-shadow {
  --halftone-foreground-color: var(--color-foreground);
  /* Making the middle color transparent so you can add a color to the middle if you want. See halftone-text-shadow-middle-* below. */
  --halftone-middle-color: rgb(0, 0, 0, 0);
  --halftone-background-size: 0.067em;
  --halftone-layer-spacing: -0.0625em;

  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 8 8' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='4' cy='4' r='2' fill='%23000000' fill-opacity='0.7'/%3E%3C/svg%3E");
  background-size: var(--halftone-background-size)
    var(--halftone-background-size);
  background-repeat: repeat;
  color: transparent;
  -webkit-background-clip: text;
  background-clip: text;
  margin: calc(var(--halftone-layer-spacing) * -2) 0 0
    calc(var(--halftone-layer-spacing) * -2);
  text-shadow:
    calc(var(--halftone-layer-spacing) * 2)
      calc(var(--halftone-layer-spacing) * 2) 0 var(--halftone-foreground-color),
    var(--halftone-layer-spacing) var(--halftone-layer-spacing) 0
      var(--halftone-middle-color);
}

/* A utility to set the middle color of the halftone text shadow. */
@utility halftone-text-shadow-middle-* {
  --halftone-middle-color: --value(--color-*);
}

/* A utility to set the foreground color of the halftone text shadow. */
@utility halftone-text-shadow-foreground-* {
  --halftone-foreground-color: --value(--color-*);
}

/* TODO: We need this? */
@utility comic-book-shadow {
  box-shadow: 4px 4px 0 0 var(--color-shadow);
}

/* Consistent horizontal padding utility for content sections */
@utility px-content {
  @apply px-4 lg:px-6;
}

/* Section with consistent content padding */
@utility section-content {
  @apply px-content;
}

/* Text mode classes that apply appropriate text colors based on background */
@layer components {
  /* Light text mode - for dark backgrounds */
  .text-mode-light {
    /* Use light text colors for dark backgrounds */
    .text-theme-primary,
    .text-theme-secondary,
    .text-brand-dark,
    .text-foreground,
    .text-black {
      color: var(--color-brand-light);
    }

    .text-theme-primary\/80,
    .text-theme-secondary\/80,
    .text-brand-dark\/80,
    .text-foreground\/80,
    .text-black\/80 {
      color: color-mix(in srgb, var(--color-brand-light) 80%, transparent);
    }

    .text-theme-primary\/60,
    .text-theme-secondary\/60,
    .text-brand-dark\/60,
    .text-foreground\/60,
    .text-black\/60 {
      color: color-mix(in srgb, var(--color-brand-light) 60%, transparent);
    }

    /* Use light text for headings */
    .font-heading {
      color: var(--color-brand-light);
    }
  }

  /* Dark text mode - for light backgrounds */
  .text-mode-dark {
    /* Use dark text colors for light backgrounds */
    .text-theme-primary,
    .text-theme-secondary,
    .text-brand-light,
    .text-white {
      color: var(--color-brand-dark);
    }

    .text-theme-primary\/80,
    .text-theme-secondary\/80,
    .text-brand-light\/80,
    .text-white\/80 {
      color: color-mix(in srgb, var(--color-brand-dark) 80%, transparent);
    }

    .text-theme-primary\/60,
    .text-theme-secondary\/60,
    .text-brand-light\/60,
    .text-white\/60 {
      color: color-mix(in srgb, var(--color-brand-dark) 60%, transparent);
    }

    /* Use dark text for headings */
    .font-heading {
      color: var(--color-brand-dark);
    }
  }
}

@layer components {
  /* Brutalist Utility Classes */

  /* Halftone Background Classes */
  .halftone-bg {
    background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='2' fill='black' opacity='0.15'/%3E%3Ccircle cx='0' cy='0' r='2' fill='black' opacity='0.15'/%3E%3Ccircle cx='0' cy='24' r='2' fill='black' opacity='0.15'/%3E%3Ccircle cx='24' cy='0' r='2' fill='black' opacity='0.15'/%3E%3Ccircle cx='24' cy='24' r='2' fill='black' opacity='0.15'/%3E%3C/svg%3E");
  }

  .halftone-bg-dark {
    background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='2' fill='white' opacity='0.15'/%3E%3Ccircle cx='0' cy='0' r='2' fill='white' opacity='0.15'/%3E%3Ccircle cx='0' cy='24' r='2' fill='white' opacity='0.15'/%3E%3Ccircle cx='24' cy='0' r='2' fill='white' opacity='0.15'/%3E%3Ccircle cx='24' cy='24' r='2' fill='white' opacity='0.15'/%3E%3C/svg%3E");
  }

  /* Comic Book Panel Styles */
  .comic-panel {
    @apply comic-book-shadow border-border bg-card border-2 p-6;
    position: relative;
  }

  .comic-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='2' fill='black' opacity='0.05'/%3E%3Ccircle cx='0' cy='0' r='2' fill='black' opacity='0.05'/%3E%3Ccircle cx='0' cy='24' r='2' fill='black' opacity='0.05'/%3E%3Ccircle cx='24' cy='0' r='2' fill='black' opacity='0.05'/%3E%3Ccircle cx='24' cy='24' r='2' fill='black' opacity='0.05'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: -1;
  }

  .link-underline {
    position: relative;
  }

  .link-underline::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -0.25em;
    width: 0;
    height: 0.2em;
    background-color: currentColor;
    transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1;
  }

  .link-underline:hover::after,
  .link-underline:focus-visible::after {
    width: 100%;
  }
}

/* Color Utility Classes - Replace arbitrary CSS values */
@utility bg-background {
  background-color: var(--color-background);
}

@utility bg-card {
  background-color: var(--color-card);
}

@utility bg-muted {
  background-color: var(--color-muted);
}

@utility bg-primary {
  background-color: var(--color-primary);
}

@utility bg-primary-hover {
  background-color: var(--color-primary-hover);
}

@utility bg-secondary {
  background-color: var(--color-secondary);
}

@utility bg-secondary-hover {
  background-color: var(--color-secondary-hover);
}

@utility bg-border {
  background-color: var(--color-border);
}

@utility bg-ring {
  background-color: var(--color-ring);
}

@utility bg-overlay {
  background-color: var(--color-overlay);
}

@utility text-foreground {
  color: var(--color-foreground);
}

@utility text-text-primary {
  color: var(--color-text-primary);
}

@utility text-card-foreground {
  color: var(--color-card-foreground);
}

@utility text-muted-foreground {
  color: var(--color-muted-foreground);
}

@utility text-primary-foreground {
  color: var(--color-primary-foreground);
}

@utility text-secondary-foreground {
  color: var(--color-secondary-foreground);
}

@utility border-border {
  border-color: var(--color-border);
}

@utility border-primary {
  border-color: var(--color-primary);
}

@utility border-secondary {
  border-color: var(--color-secondary);
}

@utility border-muted {
  border-color: var(--color-muted);
}

@utility border-card {
  border-color: var(--color-card);
}

@utility ring-ring {
  --tw-ring-color: var(--color-ring);
}

@utility bg-brand-dark {
  background-color: var(--color-brand-dark);
}

@utility bg-brand-dark-muted {
  background-color: var(--color-brand-dark-muted);
}

@utility bg-brand-red {
  background-color: var(--color-brand-red);
}

@utility bg-brand-orange {
  background-color: var(--color-brand-orange);
}

@utility bg-brand-orange-light {
  background-color: var(--color-brand-orange-light);
}

@utility bg-brand-blue {
  background-color: var(--color-brand-blue);
}

@utility bg-brand-green {
  background-color: var(--color-brand-green);
}

@utility bg-brand-yellow {
  background-color: var(--color-brand-yellow);
}

@utility bg-brand-purple {
  background-color: var(--color-brand-purple);
}

@utility bg-brand-light {
  background-color: var(--color-brand-light);
}

@utility text-brand-dark {
  color: var(--color-brand-dark);
}

@utility text-brand-dark-muted {
  color: var(--color-brand-dark-muted);
}

@utility text-brand-red {
  color: var(--color-brand-red);
}

@utility text-brand-orange {
  color: var(--color-brand-orange);
}

@utility text-brand-orange-light {
  color: var(--color-brand-orange-light);
}

@utility text-brand-blue {
  color: var(--color-brand-blue);
}

@utility text-brand-green {
  color: var(--color-brand-green);
}

@utility text-brand-yellow {
  color: var(--color-brand-yellow);
}

@utility text-brand-purple {
  color: var(--color-brand-purple);
}

@utility text-brand-light {
  color: var(--color-brand-light);
}

@utility border-brand-dark {
  border-color: var(--color-brand-dark);
}

@utility border-brand-dark-muted {
  border-color: var(--color-brand-dark-muted);
}

@utility border-brand-red {
  border-color: var(--color-brand-red);
}

@utility border-brand-orange {
  border-color: var(--color-brand-orange);
}

@utility border-brand-orange-light {
  border-color: var(--color-brand-orange-light);
}

@utility border-brand-blue {
  border-color: var(--color-brand-blue);
}

@utility border-brand-green {
  border-color: var(--color-brand-green);
}

@utility border-brand-yellow {
  border-color: var(--color-brand-yellow);
}

@utility border-brand-purple {
  border-color: var(--color-brand-purple);
}

@utility border-brand-light {
  border-color: var(--color-brand-light);
}
